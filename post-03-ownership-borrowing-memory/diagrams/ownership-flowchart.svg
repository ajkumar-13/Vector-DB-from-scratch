<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 700 450">
  <defs>
    <marker id="flowArrow" markerWidth="10" markerHeight="10" refX="9" refY="3" orient="auto">
      <path d="M0,0 L0,6 L9,3 z" fill="#495057"/>
    </marker>
    <marker id="yesArrow" markerWidth="8" markerHeight="8" refX="7" refY="3" orient="auto">
      <path d="M0,0 L0,6 L8,3 z" fill="#40c057"/>
    </marker>
    <marker id="noArrow" markerWidth="8" markerHeight="8" refX="7" refY="3" orient="auto">
      <path d="M0,0 L0,6 L8,3 z" fill="#339af0"/>
    </marker>
  </defs>
  
  <!-- Background -->
  <rect width="700" height="450" fill="#f8f9fa"/>
  
  <!-- Title -->
  <text x="350" y="30" text-anchor="middle" font-family="Arial, sans-serif" font-size="20" font-weight="bold" fill="#212529">Ownership Decision Flowchart</text>
  <text x="350" y="50" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#868e96">How should I pass this data?</text>
  
  <!-- Start -->
  <ellipse cx="350" cy="90" rx="100" ry="25" fill="#e7f5ff" stroke="#339af0" stroke-width="2"/>
  <text x="350" y="95" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#1971c2" font-weight="bold">How to pass data?</text>
  
  <!-- Arrow to Q1 -->
  <line x1="350" y1="115" x2="350" y2="145" stroke="#495057" stroke-width="2" marker-end="url(#flowArrow)"/>
  
  <!-- Question 1: Need to modify? -->
  <rect x="260" y="150" width="180" height="50" rx="6" fill="#fff9db" stroke="#fcc419" stroke-width="2"/>
  <text x="350" y="178" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#e67700" font-weight="bold">Need to modify it?</text>
  
  <!-- Yes to Q1 -> Mutable borrow -->
  <line x1="440" y1="175" x2="520" y2="175" stroke="#40c057" stroke-width="2" marker-end="url(#yesArrow)"/>
  <text x="480" y="165" font-family="Arial, sans-serif" font-size="10" fill="#40c057">Yes</text>
  
  <rect x="525" y="150" width="130" height="50" rx="6" fill="#e7f5ff" stroke="#339af0" stroke-width="2"/>
  <text x="590" y="172" text-anchor="middle" font-family="monospace" font-size="11" fill="#1971c2" font-weight="bold">&amp;mut T</text>
  <text x="590" y="190" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#495057">Mutable borrow</text>
  
  <!-- No to Q1 -> Q2 -->
  <line x1="350" y1="200" x2="350" y2="235" stroke="#339af0" stroke-width="2" marker-end="url(#noArrow)"/>
  <text x="365" y="220" font-family="Arial, sans-serif" font-size="10" fill="#339af0">No</text>
  
  <!-- Question 2: Need ownership beyond call? -->
  <rect x="230" y="240" width="240" height="50" rx="6" fill="#fff9db" stroke="#fcc419" stroke-width="2"/>
  <text x="350" y="262" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#e67700" font-weight="bold">Need ownership beyond</text>
  <text x="350" y="278" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#e67700" font-weight="bold">this function call?</text>
  
  <!-- No to Q2 -> Immutable borrow -->
  <line x1="230" y1="265" x2="155" y2="265" stroke="#339af0" stroke-width="2" marker-end="url(#noArrow)"/>
  <text x="190" y="255" font-family="Arial, sans-serif" font-size="10" fill="#339af0">No</text>
  
  <rect x="30" y="240" width="120" height="55" rx="6" fill="#d3f9d8" stroke="#40c057" stroke-width="2"/>
  <text x="90" y="262" text-anchor="middle" font-family="monospace" font-size="11" fill="#2b8a3e" font-weight="bold">&amp;T or &amp;[T]</text>
  <text x="90" y="280" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#495057">Immutable borrow</text>
  
  <!-- Yes to Q2 -> Q3 -->
  <line x1="350" y1="290" x2="350" y2="325" stroke="#40c057" stroke-width="2" marker-end="url(#yesArrow)"/>
  <text x="365" y="310" font-family="Arial, sans-serif" font-size="10" fill="#40c057">Yes</text>
  
  <!-- Question 3: Need separate copy? -->
  <rect x="250" y="330" width="200" height="45" rx="6" fill="#fff9db" stroke="#fcc419" stroke-width="2"/>
  <text x="350" y="357" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#e67700" font-weight="bold">Need separate copy?</text>
  
  <!-- No to Q3 -> Move -->
  <line x1="250" y1="352" x2="155" y2="352" stroke="#339af0" stroke-width="2" marker-end="url(#noArrow)"/>
  <text x="200" y="342" font-family="Arial, sans-serif" font-size="10" fill="#339af0">No</text>
  
  <rect x="30" y="325" width="120" height="55" rx="6" fill="#fff9db" stroke="#fcc419" stroke-width="2"/>
  <text x="90" y="347" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#e67700" font-weight="bold">Move</text>
  <text x="90" y="365" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#495057">Transfer ownership</text>
  
  <!-- Yes to Q3 -> Clone -->
  <line x1="450" y1="352" x2="525" y2="352" stroke="#40c057" stroke-width="2" marker-end="url(#yesArrow)"/>
  <text x="490" y="342" font-family="Arial, sans-serif" font-size="10" fill="#40c057">Yes</text>
  
  <rect x="530" y="325" width="130" height="55" rx="6" fill="#ffe3e3" stroke="#fa5252" stroke-width="2"/>
  <text x="595" y="347" text-anchor="middle" font-family="monospace" font-size="11" fill="#c92a2a" font-weight="bold">.clone()</text>
  <text x="595" y="365" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#495057">Deep copy</text>
  <text x="595" y="377" text-anchor="middle" font-family="Arial, sans-serif" font-size="8" fill="#fa5252">⚠️ expensive!</text>
  
  <!-- Legend -->
  <rect x="30" y="400" width="250" height="40" rx="4" fill="#f1f3f5" stroke="#ced4da" stroke-width="1"/>
  <text x="45" y="418" font-family="Arial, sans-serif" font-size="9" fill="#495057" font-weight="bold">Preferred:</text>
  <text x="100" y="418" font-family="Arial, sans-serif" font-size="9" fill="#2b8a3e">&amp;T (cheap)</text>
  <text x="155" y="418" font-family="Arial, sans-serif" font-size="9" fill="#495057">→</text>
  <text x="170" y="418" font-family="Arial, sans-serif" font-size="9" fill="#1971c2">&amp;mut T</text>
  <text x="210" y="418" font-family="Arial, sans-serif" font-size="9" fill="#495057">→</text>
  <text x="230" y="418" font-family="Arial, sans-serif" font-size="9" fill="#e67700">Move</text>
  <text x="45" y="432" font-family="Arial, sans-serif" font-size="9" fill="#c92a2a">Avoid: .clone() unless necessary</text>
</svg>
